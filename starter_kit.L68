00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 20/03/2019 23:26:21

00000000                             1  *-------------------------------------------------------
00000000                             2  * Author         : Michael Rainsford Ryan
00000000                             3  * Student Number : C00239510
00000000                             4  * Date Created   : 21/01/2019
00000000                             5  * Description    : A simplified, offline clone of the
00000000                             6  *                : online game "Avalon".
00000000                             7  * Issues/Bugs    : None currenty.
00000000                             8  *-------------------------------------------------------
00000000                             9  
00001000                            10      org $1000
00001000                            11  
00001000                            12  *-------------------------------------------------------
00001000                            13  *Choose to be a Worker or a God 
00001000                            14  *https://www.avalon-rpg.com/
00001000                            15  *-------------------------------------------------------
00001000                            16  
00001000                            17  *-------------------------------------------------------
00001000                            18  *-------------------Game Information-------------------
00001000                            19  *-------------------------------------------------------
00001000                            20  *A6 is used for player coordinates
00001000                            21  *A5 is used for enemy coordinates when in combat or looping through them
00001000                            22  *A4 occasionally used for displaying the inventory
00001000                            23  *D5 is used occasionally for input range
00001000                            24  *$5000 to $5FE0 holds maps
00001000                            25  *$5FF0 holds player information
00001000                            26  *$6000 to $7000 holds enemies
00001000                            27  
00001000                            28  *Enemies:
00001000                            29  *Byte:  Name
00001000                            30  *0      Health
00001000                            31  *1      Damage/level
00001000                            32  *2      enemy type (Knight, mage, rogue)
00001000                            33  *3      Alive state (1 == alive, 0 == dead)
00001000                            34  *4 & 5  Coordinates
00001000                            35  
00001000                            36  *Player:
00001000                            37  *Byte:  Name
00001000                            38  *0      Health
00001000                            39  *1      Damage/level
00001000                            40  *2      Class (Knight, mage, rogue)
00001000                            41  *3      Game state
00001000                            42  *4-5+A6 Coordinates
00001000                            43  *6-7    Last coordinates
00001000                            44  *8      Gold
00001000                            45  *9      Potions
00001000                            46  *A      Keys
00001000                            47  *B      Torch life
00001000                            48      
00001000                            49  *Game state : 0 = Pick role/intro | 5 = Move around | 6 = Combat | 10 to 20 = Shop | 64 = End game
00001000                            50  *Class      : 1 corresponds to knight - 2 corresponds to mage - 3 corresponds to rogue
00001000                            51  
00001000                            52  
00001000                            53  *-------------------------------------------------------
00001000                            54  *Validation values to be used, modify as needed
00001000                            55  *Add additional validation values as required
00001000                            56  *-------------------------------------------------------
00001000  =00000000                 57  exit        EQU 0      used to exit assembly program
00001000                            58  
00001000  =00006000                 59  FIRST_ENEMY EQU $6000
00001000  =00000002                 60  ENEMY_MAX   EQU 2           Number of enemies in the game
00001000                            61  
00001000  =000000FF                 62  RED         EQU $000000FF   Red colour value
00001000  =0000FF00                 63  GREEN       EQU $0000FF00   Green colour value
00001000  =00FF0000                 64  BLUE        EQU $00FF0000   Blue colour value
00001000  =00FFFFFF                 65  WHITE       EQU $00FFFFFF   White colour value
00001000  =01090000                 66  FONT        EQU $01090000   Font value
00001000                            67  
00001000  =00005FF0                 68  PLAYER      EQU $5FF0       Memory address for player information and health
00001000  =00005FF1                 69  PLA_DAMAGE  EQU $5FF1       Memory address for player damage value
00001000  =00005FF2                 70  PLA_CLASS   EQU $5FF2       The memory address for the player class
00001000  =00005FF3                 71  GAME_STATE  EQU $5FF3       The memory address of the game state
00001000  =00005FF6                 72  PLA_P_POS   EQU $5FF6       Memory location of the player's previous position
00001000  =00005FF8                 73  PLA_GOLD    EQU $5FF8       Memory address for player gold
00001000  =00005FF9                 74  PLA_POTIONS EQU $5FF9       Memory address for player potions
00001000  =00005FFA                 75  PLA_KEYS    EQU $5FFA       Memory address for player keys
00001000  =00005FFB                 76  PLA_TORCH   EQU $5FFB       Memory address for player torch life
00001000                            77  
00001000  =00000001                 78  DAMAGE      EQU 1           The number of bytes to move from the charater before reaching the damage
00001000  =00000002                 79  CLASS       EQU 2           The number of bytes to move from the charater before reaching the class
00001000  =00000003                 80  ALIVE       EQU 3           The number of bytes to move from the charater before reaching the alive state
00001000  =00000004                 81  POSITION    EQU 4           The number of bytes to move from the charater before reaching the position
00001000                            82  
00001000  =00003201                 83  CSR_POS_MOVE    EQU $3201   The cursor position to draw the HUD to when in movement state
00001000  =00002001                 84  CSR_POS_BATTLE  EQU $2001   The cursor position to draw the HUD to when in battle state
00001000                            85  
00001000  =00005156                 86  WIN_POINT   EQU $5156       The position the player has to get to to win
00001000                            87  
00001000                            88  
00001000                            89  *Start of Game
00001000                            90  start:
00001000  6100 2C16                 91      bsr     setup_player
00001004  6100 299E                 92      bsr     setup_world
00001008  6100 2BD0                 93      bsr     setup_enemies
0000100C                            94  
0000100C  6100 1FFC                 95      bsr     welcome    branch to the welcome subroutine
00001010  6100 273E                 96      bsr     press_continue
00001014  6100 1FEA                 97      bsr     game       branch to the game subroutine
00001018                            98  *Game loop
00003000                            99      org     $3000      the rest of the program is to be located from 3000 onwards
00003000                           100  
00003000                           101  *-------------------------------------------------------
00003000                           102  *-------------------Game Subroutine---------------------
00003000                           103  *-------------------------------------------------------
00003000                           104  game:
00003000  6100 00F8                105      bsr     gameloop   branch to gameloop subroutine
00003004  4E75                     106      rts                return from game: subroutine
00003006                           107            
00003006                           108  end:
00003006  FFFF FFFF                109      simhalt
0000300A                           110  
0000300A                           111  *-------------------------------------------------------
0000300A                           112  *-------------------Welcome Subroutine------------------
0000300A                           113  *-------------------------------------------------------
0000300A                           114  welcome:
0000300A  43F9 00003C55            115      lea     welcome_msg,A1  assign message to address register A1
00003010  103C 000E                116      move.b  #14,D0          move literal 14 to DO
00003014  4E4F                     117      trap    #15             trap and interpret value in D0
00003016  6100 0426                118      bsr     endl            branch to endl subroutine
0000301A                           119      
0000301A  4E75                     120      rts                     return from welcome: subroutine
0000301C                           121  
0000301C                           122  *-------------------------------------------------------
0000301C                           123  *-------------------Role Picking Subroutine------------------
0000301C                           124  *-------------------------------------------------------
0000301C                           125  pick_role:
0000301C                           126  
0000301C  43F9 00003D18            127      lea     wake_up_msg,A1  assign message to address register A1
00003022  103C 000E                128      move.b  #14,D0          move literal 14 to DO
00003026  4E4F                     129      trap    #15             trap and interpret value in D0
00003028  6100 0414                130      bsr     endl            branch to endl subroutine
0000302C                           131      
0000302C  43F9 00003E30            132      lea     pick_role_msg,A1 assign message to address register A1
00003032  103C 000E                133      move.b  #14,D0           move literal 14 to DO
00003036  4E4F                     134      trap    #15              trap and interpret value in D0
00003038                           135      
00003038  7A03                     136      move.l  #3,D5           Move the number 3 to D5 to tell the program how many options there are
0000303A                           137      
0000303A  6100 0062                138      bsr     input           branch to the input subroutine
0000303E                           139      
0000303E  6100 0710                140      bsr     press_continue          Pause the game until a key is pressed
00003042                           141      
00003042  4E75                     142      rts                     return from pick_role subroutine
00003044                           143      
00003044                           144  role_input:
00003044  11C1 5FF2                145      move.b  D1,PLA_CLASS    Move the role number to player class memory location to hold the class number
00003048                           146      
00003048                           147      *Give the player a message depending on the role chosen
00003048  B23C 0001                148      CMP.B   #1,D1
0000304C  6700 0014                149      BEQ     knight_select   Branch to knight message if role selected
00003050                           150      
00003050  B23C 0002                151      CMP.B   #2,D1
00003054  6700 0020                152      BEQ     mage_select     Branch to mage message if role selected
00003058                           153      
00003058  B23C 0003                154      CMP.B   #3,D1
0000305C  6700 002C                155      BEQ     rogue_select    Branch to rogue message if role selected
00003060                           156      
00003060  4E75                     157      rts
00003062                           158      
00003062                           159  knight_select:
00003062  43F9 00004003            160      lea     knight_role_msg,A1 assign message to address register A1
00003068  103C 000E                161      move.b  #14,D0          move literal 14 to DO
0000306C  4E4F                     162      trap    #15             Display the knight message
0000306E                           163      
0000306E  11FC 0005 5FF3           164      move.b  #5,GAME_STATE   Change the game state to the movement state
00003074                           165      
00003074  4E75                     166      rts                     Return from the sub routine
00003076                           167  
00003076                           168  mage_select:
00003076  43F9 000040A4            169      lea     mage_role_msg,A1 assign message to address register A1
0000307C  103C 000E                170      move.b  #14,D0          move literal 14 to DO
00003080  4E4F                     171      trap    #15             Display the mage message
00003082                           172      
00003082  11FC 0005 5FF3           173      move.b  #5,GAME_STATE   Change the game state to the movement state
00003088                           174      
00003088  4E75                     175      rts                     Return from the sub routine
0000308A                           176  
0000308A                           177  rogue_select:
0000308A  43F9 00004132            178      lea     rogue_role_msg,A1 assign message to address register A1
00003090  103C 000E                179      move.b  #14,D0          move literal 14 to DO
00003094  4E4F                     180      trap    #15             Display the rogue message
00003096                           181      
00003096  11FC 0005 5FF3           182      move.b  #5,GAME_STATE   Change the game state to the movement state
0000309C                           183      
0000309C  4E75                     184      rts                     Return from the sub routin
0000309E                           185      
0000309E                           186  *-------------------------------------------------------
0000309E                           187  *---------Gameplay Input Values Subroutine--------------
0000309E                           188  *-------------------------------------------------------    
0000309E                           189  input:
0000309E  6100 039E                190      bsr     endl            Branch to end line subroutine
000030A2                           191      
000030A2  43F9 00003FA7            192      lea     input_nums_msg,A1 assign message to address register A1
000030A8  103C 000E                193      move.b  #14,D0          move literal 14 to DO
000030AC  4E4F                     194      trap    #15             Display the "enter number" message
000030AE                           195      
000030AE  2205                     196      move.l  D5,D1           Move the number of options to D1 to display it
000030B0  103C 0003                197      move.b  #3,D0           move literal 3 to DO
000030B4  4E4F                     198      trap    #15             Display the number in D1 to show the input range
000030B6                           199      
000030B6  43F9 00003FC0            200      lea     colon_msg,A1    assign message to address register A1
000030BC  103C 000E                201      move.b  #14,D0          move literal 14 to DO
000030C0  4E4F                     202      trap    #15             Display a colon after the number range
000030C2                           203      
000030C2  103C 0004                204      move.b  #4,D0           Move the number 4 to D0
000030C6  4E4F                     205      trap    #15             Take input
000030C8                           206      
000030C8                           207  manage_input:
000030C8  B27C 0001                208      CMP     #1,D1           Check input against minimum value
000030CC  6D00 001E                209      BLT     invalid_input   Error if less than 1
000030D0                           210      
000030D0  B245                     211      CMP     D5,D1           Compare input against max value
000030D2  6E00 0018                212      BGT     invalid_input   Error if more than max value
000030D6                           213      
000030D6  0C38 0000 5FF3           214      CMP.B   #0,GAME_STATE   Check which state the game is in
000030DC  6700 FF66                215      BEQ     role_input      Branch to the manage input for the role picking
000030E0  0C38 0005 5FF3           216      CMP.B   #5,GAME_STATE   Check which state the game is in
000030E6  6700 0380                217      BEQ     wall_collisions Branch to the manage input for the movement
000030EA                           218      
000030EA  4E75                     219      rts                     Return out of subroutine
000030EC                           220  
000030EC                           221  invalid_input:
000030EC  43F9 00003FC3            222      lea     input_error_msg,A1 assign message to address register A1
000030F2  103C 000E                223      move.b  #14,D0          move literal 14 to DO
000030F6  4E4F                     224      trap    #15             Display the error message
000030F8                           225      
000030F8  60A4                     226      bra     input           Go back to taking input
000030FA                           227  
000030FA                           228  *-------------------------------------------------------
000030FA                           229  *----------------Gameloop (main loop)-------------------
000030FA                           230  *------------------------------------------------------- 
000030FA                           231  gameloop:
000030FA  6100 0312                232      bsr     clear_screen    clears the screen  
000030FE  6100 013E                233      bsr     draw            branch to draw screen subroutine
00003102  6100 015E                234      bsr     draw_hud
00003106  6100 0008                235      bsr     update          branch to update game subroutine 
0000310A  6100 02C0                236      bsr     gameplay        branch to gameplay subroutine
0000310E  60EA                     237      bra     gameloop        Continue looping the game loop     
00003110                           238  
00003110                           239  *-------------------------------------------------------
00003110                           240  *----------------Update Quest Progress------------------
00003110                           241  *  Complete Quest
00003110                           242  *------------------------------------------------------- 
00003110                           243  update:
00003110  0C38 0000 5FF0           244      CMP.B   #0,PLAYER           Check if the player health is zero
00003116  6F00 0020                245      BLE     player_dead         Player is dead if health is zero or below
0000311A                           246      
0000311A  BCFC 5156                247      CMP.W   #WIN_POINT,A6       Check if the player is standing on the win point
0000311E  6700 003A                248      BEQ     won_game            Branch to the won game subroutine
00003122                           249  
00003122  0C38 0005 5FF3           250      CMP.B   #5,GAME_STATE       Check which state the game is in
00003128  6700 0052                251      BEQ     enemies_check       Check for enemies if in movement state
0000312C  0C38 0006 5FF3           252      CMP.B   #6,GAME_STATE       Check which state the game is in
00003132  6700 00D2                253      BEQ     enemy_alive_check   Check if enemy is dead if in combat
00003136                           254      
00003136  4E75                     255      rts
00003138                           256      
00003138                           257  player_dead:
00003138  6100 0304                258      bsr     endl            Break to new line
0000313C                           259      
0000313C  43F9 000047F4            260      lea     death_msg,A1    Load the death message
00003142  103C 000E                261      move.b  #14,D0          Move byte #14 to D0 for the trap command
00003146  4E4F                     262      trap    #15             Display the loaded message
00003148                           263  
00003148  6100 0606                264      bsr     press_continue  Pause to get input
0000314C  6100 02C0                265      bsr     clear_screen    Clear the screen
00003150  11FC 0040 5FF3           266      move.b  #64,GAME_STATE  Set the game state to end game
00003156  6000 02C2                267      bra     replay          Give the player the option to restart or quit
0000315A                           268      
0000315A                           269  won_game:
0000315A  6100 02E2                270      bsr     endl            Break to new line
0000315E                           271      
0000315E  43F9 00004859            272      lea     win_msg,A1      Load the win message
00003164  103C 000E                273      move.b  #14,D0          Move byte #14 to D0 for the trap command
00003168  4E4F                     274      trap    #15             Display the loaded message
0000316A                           275  
0000316A  6100 05E4                276      bsr     press_continue  Pause to get input
0000316E  6100 029E                277      bsr     clear_screen    Clear the screen
00003172  11FC 0040 5FF3           278      move.b  #64,GAME_STATE  Set the game state to end game
00003178  6000 02A0                279      bra     replay          Give the player the option to restart or quit
0000317C                           280  
0000317C                           281  
0000317C                           282  
0000317C                           283  enemies_check:
0000317C  4BF8 6000                284      lea     FIRST_ENEMY,A5  Load the memory address of the first enemy
00003180  1A3C 0000                285      move.b  #0,D5           Move the starting enemy number to D5
00003184  6100 0004                286      bsr     enemies_loop    Loop through all enemies
00003188  4E75                     287      rts                     Return from subroutine
0000318A                           288      
0000318A                           289  enemies_loop:
0000318A  6100 001C                290      bsr     enemy_check     Check for an enemy
0000318E                           291      
0000318E  BA3C 0002                292      CMP.B   #ENEMY_MAX,D5   Compare the enemy number with the maximum enemy number
00003192  6C00 05EE                293      BGE     return          Return from the loop if the current enemy number is greater than or equal to the max
00003196  0C38 0005 5FF3           294      CMP.B   #5,GAME_STATE   Compare the movement gamestate number with the current gamestate
0000319C  6600 05E4                295      BNE     return          Return from the loop if the game is not in the movement state anymore
000031A0                           296      
000031A0  5205                     297      add.b   #1,D5           Add to the current enemy number
000031A2  DAFC 000C                298      add.w   #12,A5          Add to the current enemy pointer to move to the next enemy (16 for next enemy - 4 to get back from position)
000031A6  60E2                     299      bra     enemies_loop    Keep looping the enemies
000031A8                           300      
000031A8                           301  
000031A8                           302  enemy_check:
000031A8  564D                     303      add.w   #ALIVE,A5       Move into enemy information to check if its alive
000031AA  0C1D 0000                304      CMP.B   #0,(A5)+        Check if the enemy is alive
000031AE  6700 05D2                305      BEQ     return          Return from the check if the enemy is dead
000031B2                           306      
000031B2  340E                     307      move.w  A6,D2           Move the player position to D2
000031B4                           308      
000031B4                           309      *Check if the player is beside an enemy
000031B4  0442 0010                310      sub.w   #16,D2          Check north
000031B8  B455                     311      CMP.W   (A5),D2           
000031BA  6700 0020                312      BEQ     enter_combat    Enter the player into combat
000031BE                           313      
000031BE  0642 0020                314      add.w   #32,D2          Check south
000031C2  B455                     315      CMP.W   (A5),D2           
000031C4  6700 0016                316      BEQ     enter_combat    Enter the player into combat
000031C8                           317      
000031C8  0442 0011                318      sub.w   #17,D2          Check west
000031CC  B455                     319      CMP.W   (A5),D2           
000031CE  6700 000C                320      BEQ     enter_combat    Enter the player into combat
000031D2                           321      
000031D2  5442                     322      add.w   #2,D2           Check east
000031D4  B455                     323      CMP.W   (A5),D2           
000031D6  6700 0004                324      BEQ     enter_combat    Enter the player into combat
000031DA                           325      
000031DA  4E75                     326      rts     Return if not touching an enemy
000031DC                           327      
000031DC                           328  enter_combat:
000031DC  594D                     329      sub.w   #4,A5               Get the memory address of the enemy opposed to it's position
000031DE  11FC 0006 5FF3           330      move.b  #6,GAME_STATE       Move to combat state
000031E4                           331      
000031E4  6100 0258                332      bsr     endl                Line break
000031E8                           333      
000031E8  43F9 00004291            334      LEA     encounter_msg,A1    Load the encounter message int A1
000031EE  103C 000E                335      move.b  #14,D0              Move #14 to D0 to display message
000031F2  4E4F                     336      trap    #15                 Display the loaded message
000031F4                           337      
000031F4  6100 055A                338      bsr     press_continue      Branch to the press to continue subroutine
000031F8                           339      
000031F8  6100 0214                340      bsr     clear_screen        Clear the screen
000031FC                           341      
000031FC  6100 0056                342      bsr     draw_skeleton       Draw the enemy
00003200  6100 0172                343      bsr     draw_battle_info    Draw the info
00003204                           344      
00003204  4E75                     345      rts
00003206                           346      
00003206                           347  enemy_alive_check:
00003206  0C15 0000                348      CMP.B   #0,(A5)     Compare the enemy health with zero
0000320A  6F00 0004                349      BLE     enemy_died  If the enemy health is zero or below, they died
0000320E                           350      
0000320E  4E75                     351      rts
00003210                           352      
00003210                           353  enemy_died:
00003210  6100 022C                354      bsr     endl            Break to a new line
00003214                           355  
00003214  43F9 000047BE            356      lea     battle_won_msg,A1   Load the won battle message
0000321A  103C 000E                357      move.b  #14,D0              Move the literal #14 to D0 for trap task #14
0000321E  4E4F                     358      trap    #15                 Display the message
00003220                           359      
00003220  11FC 0005 5FF3           360      move.b  #5,GAME_STATE   Set the game state mack to movement state
00003226  564D                     361      add.w   #ALIVE,A5       Move from the enemy health to its alive status
00003228  1ABC 0000                362      move.b  #0,(A5)         Set the enemy as dead
0000322C                           363      
0000322C  6100 0522                364      bsr     press_continue
00003230                           365      
00003230  6100 01DC                366      bsr     clear_screen    Clear the screen
00003234  6100 0008                367      bsr     draw            Draw the map for first frame back in movement
00003238  6100 0028                368      bsr     draw_hud        Draw the hud for first frame back in movement
0000323C                           369      
0000323C  4E75                     370      rts
0000323E                           371      
0000323E                           372  *-------------------------------------------------------
0000323E                           373  *-----------------Draw Quest Updates--------------------
0000323E                           374  * Draw the game progress information, status regarding
0000323E                           375  * quest
0000323E                           376  *------------------------------------------------------- 
0000323E                           377  draw:
0000323E  0C38 0005 5FF3           378      CMP.B   #5,GAME_STATE   Check which state the game is in
00003244  6700 053E                379      BEQ     draw_loop       If in the movement state, draw the map
00003248  0C38 0006 5FF3           380      CMP.B   #6,GAME_STATE   Check which state the game is in
0000324E  6700 0004                381      BEQ     draw_skeleton   If in the combat state, draw the enemy
00003252  4E75                     382      rts
00003254                           383      
00003254                           384  draw_skeleton:
00003254  43F9 00004312            385      lea     skeleton_msg,A1 Load the skeleton message
0000325A  103C 000E                386      move.b  #14,D0          Move literal 14 for display message trap command
0000325E  4E4F                     387      trap    #15             Display the loaded message
00003260                           388      
00003260  4E75                     389      rts
00003262                           390      
00003262                           391  draw_hud:
00003262  0C38 0005 5FF3           392      CMP.B   #5,GAME_STATE       Check which state the game is in
00003268  6700 000E                393      BEQ     draw_player_info    If in the movement state, draw the player info
0000326C  0C38 0006 5FF3           394      CMP.B   #6,GAME_STATE       Check which state the game is in
00003272  6700 0100                395      BEQ     draw_battle_info     If in the combat state, draw the combat info
00003276                           396      
00003276  4E75                     397      rts
00003278                           398  
00003278                           399  draw_player_info:
00003278  323C 00FF                400      move.w  #255,D1         Move the word #255 to D1 to set the type of trap 11
0000327C  103C 000B                401      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
00003280  4E4F                     402      trap    #15             Trap to get the cursor position in D1
00003282                           403      
00003282  3601                     404      move.w  D1,D3           Move the current cursor position to D3 for later
00003284                           405      
00003284                           406      * Display the player health
00003284  323C 3201                407      move.w  #CSR_POS_MOVE,D1           
00003288  4E4F                     408      trap    #15             Set the cursor position with trap command 11
0000328A  4241                     409      clr     D1              Clear D1 of the cursor position
0000328C                           410      
0000328C  43F9 00004775            411      lea     health_msg,A1   Load the hud message
00003292  103C 000E                412      move.b  #14,D0          Move literal 14 for display message trap command
00003296  4E4F                     413      trap    #15             Display the loaded message
00003298                           414      
00003298  1238 5FF0                415      move.b  PLAYER,D1       Move the player health value to D1 to display
0000329C  103C 0003                416      move.b  #3,D0           Move literal 3 for display number trap command
000032A0  4E4F                     417      trap    #15             Display the number in D1
000032A2                           418      
000032A2                           419      * Display the torch life
000032A2  103C 000B                420      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
000032A6  323C 3201                421      move.w  #CSR_POS_MOVE,D1         
000032AA  5241                     422      add.w   #1,D1  
000032AC  4E4F                     423      trap    #15             Set the cursor position with trap command 11
000032AE  4241                     424      clr     D1              Clear D1 of the cursor position
000032B0                           425      
000032B0  43F9 0000478D            426      lea     torch_msg,A1   Load the hud message
000032B6  103C 000E                427      move.b  #14,D0          Move literal 14 for display message trap command
000032BA  4E4F                     428      trap    #15             Display the loaded message
000032BC                           429      
000032BC  1238 5FFB                430      move.b  PLA_TORCH,D1    Move the player torch life value to D1 to display
000032C0  103C 0003                431      move.b  #3,D0           Move literal 3 for display number trap command
000032C4  4E4F                     432      trap    #15             Display the number in D1
000032C6                           433      
000032C6                           434      * Display the inventory
000032C6  103C 000B                435      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
000032CA  323C 3201                436      move.w  #CSR_POS_MOVE,D1
000032CE  5441                     437      add.w   #2,D1          
000032D0  4E4F                     438      trap    #15             Set the cursor position with trap command 11
000032D2  4241                     439      clr     D1              Clear D1 of the cursor position
000032D4                           440      
000032D4  43F9 0000479A            441      lea     inventory_msg,A1   Load the hud message
000032DA  103C 000E                442      move.b  #14,D0          Move literal 14 for display message trap command
000032DE  4E4F                     443      trap    #15             Display the loaded message
000032E0                           444      
000032E0                           445      * Display the player gold
000032E0  103C 000B                446      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
000032E4  323C 3201                447      move.w  #CSR_POS_MOVE,D1         
000032E8  5641                     448      add.w   #3,D1  
000032EA  4E4F                     449      trap    #15             Set the cursor position with trap command 11
000032EC  4241                     450      clr     D1              Clear D1 of the cursor position
000032EE                           451      
000032EE  43F9 000047A5            452      lea     gold_msg,A1   Load the hud message
000032F4  103C 000E                453      move.b  #14,D0          Move literal 14 for display message trap command
000032F8  4E4F                     454      trap    #15             Display the loaded message
000032FA                           455      
000032FA  49F8 5FF8                456      lea     PLA_GOLD,A4
000032FE  6100 0052                457      bsr     draw_item_number
00003302                           458      
00003302                           459      * Display the player potions
00003302  103C 000B                460      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
00003306  323C 3201                461      move.w  #CSR_POS_MOVE,D1         
0000330A  5841                     462      add.w   #4,D1  
0000330C  4E4F                     463      trap    #15             Set the cursor position with trap command 11
0000330E  4241                     464      clr     D1              Clear D1 of the cursor position
00003310                           465      
00003310  43F9 000047B4            466      lea     potions_msg,A1   Load the hud message
00003316  103C 000E                467      move.b  #14,D0          Move literal 14 for display message trap command
0000331A  4E4F                     468      trap    #15             Display the loaded message
0000331C                           469      
0000331C  49F8 5FF9                470      lea     PLA_POTIONS,A4
00003320  6100 0030                471      bsr     draw_item_number
00003324                           472      
00003324                           473      * Display the player keys
00003324  103C 000B                474      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
00003328  323C 3201                475      move.w  #CSR_POS_MOVE,D1         
0000332C  5A41                     476      add.w   #5,D1  
0000332E  4E4F                     477      trap    #15             Set the cursor position with trap command 11
00003330  4241                     478      clr     D1              Clear D1 of the cursor position
00003332                           479      
00003332  43F9 000047AD            480      lea     key_msg,A1   Load the hud message
00003338  103C 000E                481      move.b  #14,D0          Move literal 14 for display message trap command
0000333C  4E4F                     482      trap    #15             Display the loaded message
0000333E                           483      
0000333E  49F8 5FFA                484      lea     PLA_KEYS,A4
00003342  6100 000E                485      bsr     draw_item_number
00003346                           486      
00003346  3203                     487      move.w  D3,D1           Move the current cursor position to D3 for later
00003348                           488      
00003348  103C 000B                489      move.b  #11,D0          Move the byte #11 to D0 for trap command 11          
0000334C  4E4F                     490      trap    #15             Set the cursor position with trap command 11
0000334E                           491      
0000334E  4241                     492      clr     D1              Clear D1 for later use
00003350                           493      
00003350  4E75                     494      rts
00003352                           495      
00003352                           496  draw_item_number:
00003352  103C 000E                497      move.b  #14,D0          Move literal 3 for display number trap command
00003356  43F9 000047F0            498      lea     bracket_open_msg,A1
0000335C  4E4F                     499      trap    #15
0000335E                           500  
0000335E  103C 0003                501      move.b  #3,D0           Move literal 3 for display number trap command
00003362  1214                     502      move.b  (A4),D1         Move the player health value to D1 to display
00003364  4E4F                     503      trap    #15             Display the number in D1
00003366                           504      
00003366  103C 000E                505      move.b  #14,D0          Move literal 3 for display number trap command
0000336A  43F9 000047F2            506      lea     bracket_close_msg,A1
00003370  4E4F                     507      trap    #15
00003372  4E75                     508      rts
00003374                           509      
00003374                           510  
00003374                           511  draw_battle_info:
00003374  323C 00FF                512      move.w  #255,D1         Move the word #255 to D1 to set the type of trap 11
00003378  103C 000B                513      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
0000337C  4E4F                     514      trap    #15             Trap to get the cursor position in D1
0000337E                           515      
0000337E  3601                     516      move.w  D1,D3           Move the current cursor position to D3 for later
00003380                           517      
00003380                           518      * Move cursor to draw player info
00003380  323C 2001                519      move.w  #CSR_POS_BATTLE,D1           
00003384  4E4F                     520      trap    #15             Set the cursor position with trap command 11
00003386  4241                     521      clr     D1              Clear D1 of the cursor position
00003388                           522      
00003388  43F9 00004775            523      lea     health_msg,A1   Load the hud message
0000338E  103C 000E                524      move.b  #14,D0          Move literal 14 for display message trap command
00003392  4E4F                     525      trap    #15             Display the loaded message
00003394                           526      
00003394  1238 5FF0                527      move.b  PLAYER,D1       Move the player health value to D1 to display
00003398  103C 0003                528      move.b  #3,D0           Move literal 3 for display number trap command
0000339C  4E4F                     529      trap    #15             Display the number in D1
0000339E                           530      
0000339E                           531      * Move the cursor to draw enemy info
0000339E  103C 000B                532      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
000033A2  323C 2001                533      move.w  #CSR_POS_BATTLE,D1
000033A6  5241                     534      add.w   #1,D1
000033A8  4E4F                     535      trap    #15             Set the cursor position with trap command 11
000033AA  4241                     536      clr     D1              Clear D1 of the cursor position
000033AC                           537      
000033AC  43F9 0000477E            538      lea     enemy_health_msg,A1 Load the hud message
000033B2  103C 000E                539      move.b  #14,D0              Move literal 14 for display message trap command
000033B6  4E4F                     540      trap    #15                 Display the loaded message
000033B8                           541      
000033B8  1215                     542      move.b  (A5),D1         Move the enemy health value to D1 to display
000033BA  103C 0003                543      move.b  #3,D0           Move literal 3 for display number trap command
000033BE  4E4F                     544      trap    #15             Display the number in D1
000033C0                           545      
000033C0                           546      * Move the cursor back to its previous position
000033C0  3203                     547      move.w  D3,D1           Move the previous cursor position back to D1
000033C2  103C 000B                548      move.b  #11,D0          Move the byte #11 to D0 for trap command 11          
000033C6  4E4F                     549      trap    #15             Set the cursor position with trap command 11
000033C8                           550      
000033C8  4241                     551      clr     D1              Clear D1 for later use
000033CA                           552      
000033CA  4E75                     553      rts
000033CC                           554  
000033CC                           555  *-------------------------------------------------------
000033CC                           556  *---Game Play (Quest Progress)--------------------------
000033CC                           557  *------------------------------------------------------- 
000033CC                           558  gameplay:
000033CC  6100 0070                559      bsr     endl            Break to a new line
000033D0  0C38 0000 5FF3           560      CMP.B   #0,GAME_STATE   Check which stage the game is in
000033D6  6700 FC44                561      BEQ     pick_role       Branch to the pick role subroutine
000033DA  0C38 0005 5FF3           562      CMP.B   #5,GAME_STATE   Check which stage the game is in
000033E0  6700 0072                563      BEQ     movement        Branch to the movement subroutine
000033E4  0C38 0006 5FF3           564      CMP.B   #6,GAME_STATE   Check which stage the game is in
000033EA  6700 01C4                565      BEQ     combat          branch to the combat subroutine
000033EE  4E75                     566      rts                     Return from 'gameplay' subroutine
000033F0                           567  
000033F0                           568  *-------------------------------------------------------
000033F0                           569  *------------------Screen Decoration--------------------
000033F0                           570  *-------------------------------------------------------
000033F0                           571  decorate:
000033F0  163C 003C                572      move.b  #60, D3
000033F4  6100 0048                573      bsr     endl
000033F8                           574  out:
000033F8  43F9 00003CEC            575      lea     loop_msg,A1
000033FE  103C 000E                576      move.b  #14,D0
00003402  4E4F                     577      trap    #15
00003404  5343                     578      sub     #1,D3   decrement loop counter
00003406  66F0                     579      bne     out     repeat until D0=0
00003408  6100 0034                580      bsr     endl
0000340C  4E75                     581      rts
0000340E                           582      
0000340E                           583  clear_screen: 
0000340E  103C 000B                584      move.b  #11,D0      clear screen
00003412  323C FF00                585      move.w  #$ff00,D1
00003416  4E4F                     586      trap    #15
00003418  4E75                     587      rts
0000341A                           588  *-------------------------------------------------------
0000341A                           589  *------------------------Replay-------------------------
0000341A                           590  *-------------------------------------------------------
0000341A                           591  replay:
0000341A  43F9 00003CEE            592      lea     replay_msg,A1   Load the Replay message
00003420  103C 000E                593      move.b  #14,D0          Move the number literal 14 to D0 for trap command
00003424  4E4F                     594      trap    #15             Display the loaded message
00003426                           595      
00003426  1A3C 0002                596      move.b  #2,D5           Move the number of input options to D5
0000342A  6100 FC72                597      bsr     input           Take user input
0000342E  1401                     598      move.b  D1,D2           Move the input to D2 so it's not trampled by the clear screen
00003430                           599      
00003430  61DC                     600      bsr     clear_screen    Clear the screen
00003432                           601      
00003432  B43C 0001                602      cmp.b   #1,D2           Compare the user input against the two options
00003436  6700 DBC8                603      beq     start           Restart if the user enters 1
0000343A  6100 FBCA                604      bsr     end             Quit if the user enters 2
0000343E                           605  
0000343E                           606  endl:
0000343E  48E7 8040                607      movem.l D0/A1,-(A7)
00003442  303C 000E                608      move    #14,D0
00003446  43F9 00003C52            609      lea     crlf,A1
0000344C  4E4F                     610      trap    #15
0000344E  4CDF 0201                611      movem.l (A7)+,D0/A1
00003452  4E75                     612      rts
00003454                           613          
00003454                           614  *-------------------------------------------------------
00003454                           615  *----------------------Manage Movement------------------
00003454                           616  *-------------------------------------------------------
00003454                           617  movement:
00003454  43F9 000041C5            618      lea     movement_msg,A1 Load the movement message
0000345A  103C 000E                619      move.b  #14,D0          Move literal 14 for display message trap command
0000345E  4E4F                     620      trap    #15             Display the loaded message
00003460                           621  
00003460  7A04                     622      move.l  #4,D5           Move the number 4 to D5 to tell the program how many options there are
00003462                           623      
00003462  6100 FC3A                624      bsr     input           branch to the input subroutine
00003466  4E75                     625      rts
00003468                           626  
00003468                           627  *-------------------------------------------------------
00003468                           628  *-------------------Check Wall Collisions---------------
00003468                           629  *-------------------------------------------------------
00003468                           630  wall_collisions:
00003468                           631      *Check collisions in the movement direction
00003468  B23C 0001                632      CMP.B   #1,D1       Check the movement direction
0000346C  6700 001C                633      BEQ     move_north  Branch to Display the corridor type
00003470                           634      
00003470  B23C 0002                635      CMP.B   #2,D1       Check the movement direction
00003474  6700 005A                636      BEQ     move_south  Branch to Display the corridor type
00003478                           637      
00003478  B23C 0003                638      CMP.B   #3,D1       Check the movement direction
0000347C  6700 0098                639      BEQ     move_west   Branch to Display the corridor type
00003480                           640      
00003480  B23C 0004                641      CMP.B   #4,D1       Check the movement direction
00003484  6700 00D4                642      BEQ     move_east   Branch to Display the corridor type
00003488                           643      
00003488  4E75                     644      rts
0000348A                           645      
0000348A                           646  move_north:
0000348A                           647      *Check if the tile is any of the corridor types with a wall at the top
0000348A  0C16 0002                648      CMP.B   #2,(A6)
0000348E  6700 010E                649      BEQ     movement_blocked
00003492  0C16 0003                650      CMP.B   #3,(A6)
00003496  6700 0106                651      BEQ     movement_blocked
0000349A  0C16 0006                652      CMP.B   #6,(A6)
0000349E  6700 00FE                653      BEQ     movement_blocked
000034A2  0C16 0007                654      CMP.B   #7,(A6)
000034A6  6700 00F6                655      BEQ     movement_blocked
000034AA  0C16 000B                656      CMP.B   #11,(A6)
000034AE  6700 00EE                657      BEQ     movement_blocked
000034B2  0C16 000C                658      CMP.B   #12,(A6)
000034B6  6700 00E6                659      BEQ     movement_blocked
000034BA  0C16 000D                660      CMP.B   #13,(A6)
000034BE  6700 00DE                661      BEQ     movement_blocked
000034C2                           662      
000034C2  31CE 5FF6                663      move.w  A6,PLA_P_POS        Move the player's previous location to a memory address for storage
000034C6  9CFC 0010                664      sub     #16,A6              Move the player north
000034CA  5338 5FFB                665      sub.b   #1,PLA_TORCH        Remove one from the player's torch life
000034CE                           666      
000034CE  4E75                     667      rts
000034D0                           668      
000034D0                           669  move_south:
000034D0                           670      *Check if the tile is any of the corridor types with a wall at the bottom
000034D0  0C16 0002                671      CMP.B   #2,(A6)
000034D4  6700 00C8                672      BEQ     movement_blocked
000034D8  0C16 0004                673      CMP.B   #4,(A6)
000034DC  6700 00C0                674      BEQ     movement_blocked
000034E0  0C16 0005                675      CMP.B   #5,(A6)
000034E4  6700 00B8                676      BEQ     movement_blocked
000034E8  0C16 0009                677      CMP.B   #9,(A6)
000034EC  6700 00B0                678      BEQ     movement_blocked
000034F0  0C16 000B                679      CMP.B   #11,(A6)
000034F4  6700 00A8                680      BEQ     movement_blocked
000034F8  0C16 000D                681      CMP.B   #13,(A6)
000034FC  6700 00A0                682      BEQ     movement_blocked
00003500  0C16 000E                683      CMP.B   #14,(A6)
00003504  6700 0098                684      BEQ     movement_blocked
00003508                           685      
00003508  31CE 5FF6                686      move.w  A6,PLA_P_POS        Move the player's previous location to a memory address for storage
0000350C  DCFC 0010                687      add     #16,A6              Move the player south
00003510  5338 5FFB                688      sub.b   #1,PLA_TORCH        Remove one from the player's torch life
00003514                           689      
00003514  4E75                     690      rts
00003516                           691  
00003516                           692  move_west:
00003516                           693      *Check if the tile is any of the corridor types with a wall to the left
00003516  0C16 0001                694      CMP.B   #1,(A6)
0000351A  6700 0082                695      BEQ     movement_blocked
0000351E  0C16 0003                696      CMP.B   #3,(A6)
00003522  6700 007A                697      BEQ     movement_blocked
00003526  0C16 0004                698      CMP.B   #4,(A6)
0000352A  6700 0072                699      BEQ     movement_blocked
0000352E  0C16 0008                700      CMP.B   #8,(A6)
00003532  6700 006A                701      BEQ     movement_blocked
00003536  0C16 000B                702      CMP.B   #11,(A6)
0000353A  6700 0062                703      BEQ     movement_blocked
0000353E  0C16 000C                704      CMP.B   #12,(A6)
00003542  6700 005A                705      BEQ     movement_blocked
00003546  0C16 000E                706      CMP.B   #14,(A6)
0000354A  6700 0052                707      BEQ     movement_blocked
0000354E                           708      
0000354E  31CE 5FF6                709      move.w  A6,PLA_P_POS        Move the player's previous location to a memory address for storage
00003552  534E                     710      sub     #1,A6               Move the player west
00003554  5338 5FFB                711      sub.b   #1,PLA_TORCH        Remove one from the player's torch life
00003558                           712      
00003558  4E75                     713      rts
0000355A                           714      
0000355A                           715  move_east:
0000355A                           716      *Check if the tile is any of the corridor types with a wall to the right
0000355A  0C16 0001                717      CMP.B   #1,(A6)
0000355E  6700 003E                718      BEQ     movement_blocked
00003562  0C16 0005                719      CMP.B   #5,(A6)
00003566  6700 0036                720      BEQ     movement_blocked
0000356A  0C16 0006                721      CMP.B   #6,(A6)
0000356E  6700 002E                722      BEQ     movement_blocked
00003572  0C16 000A                723      CMP.B   #10,(A6)
00003576  6700 0026                724      BEQ     movement_blocked
0000357A  0C16 000C                725      CMP.B   #12,(A6)
0000357E  6700 001E                726      BEQ     movement_blocked
00003582  0C16 000D                727      CMP.B   #13,(A6)
00003586  6700 0016                728      BEQ     movement_blocked
0000358A  0C16 000E                729      CMP.B   #14,(A6)
0000358E  6700 000E                730      BEQ     movement_blocked
00003592                           731      
00003592  31CE 5FF6                732      move.w  A6,PLA_P_POS        Move the player's previous location to a memory address for storage
00003596  524E                     733      add     #1,A6               Move the player east
00003598  5338 5FFB                734      sub.b   #1,PLA_TORCH        Remove one from the player's torch life
0000359C                           735      
0000359C  4E75                     736      rts
0000359E                           737  
0000359E                           738  movement_blocked:
0000359E  43F9 0000423E            739      lea     movement_blocked_msg,A1 Load the message
000035A4  103C 000E                740      move.b  #14,D0                  Move the trap command to display a message
000035A8  4E4F                     741      trap    #15                     Display the movement blocked message
000035AA  6100 01A4                742      bsr     press_continue          Pause the game until a key is pressed
000035AE                           743      
000035AE  4E75                     744      rts                             Return from the subroutine
000035B0                           745      
000035B0                           746  *-------------------------------------------------------
000035B0                           747  *---------------------Manage Combat---------------------
000035B0                           748  *-------------------------------------------------------
000035B0                           749  combat:
000035B0  6100 FE8C                750      bsr endl                Break to a new line
000035B4                           751  
000035B4  43F9 000042C9            752      lea     combat_msg,A1   Load the combat message
000035BA  103C 000E                753      move.b  #14,D0          Move literal 14 for display message trap command
000035BE  4E4F                     754      trap    #15             Display the loaded message
000035C0                           755  
000035C0  7A04                     756      move.l  #4,D5           Move the number 4 to D5 to tell the program how many options there are
000035C2                           757      
000035C2  6100 FADA                758      bsr     input           branch to the input subroutine
000035C6                           759      
000035C6  B23C 0001                760      CMP.B   #1,D1           Compare input with number literal 1
000035CA  6700 001C                761      BEQ     block_counter   Branch to block/counter subroutine
000035CE  B23C 0002                762      CMP.B   #2,D1           Compare input with number literal 1
000035D2  6700 002E                763      BEQ     cast_magic      Branch to cast magic subroutine
000035D6  B23C 0003                764      CMP.B   #3,D1           Compare input with number literal 1
000035DA  6700 0040                765      BEQ     melee_attack    Branch to melee subroutine
000035DE  B23C 0004                766      CMP.B   #4,D1           Compare input with number literal 1
000035E2  6700 0052                767      BEQ     try_run         Branch to try run subroutine
000035E6                           768      
000035E6  4E75                     769      rts
000035E8                           770      
000035E8                           771  block_counter:
000035E8  6100 017E                772      bsr     random_number       Get a random number 1-100
000035EC                           773      
000035EC  B47C 0021                774      CMP.W   #33,D2              Compare random with #33
000035F0  6F00 008C                775      BLE     both_block          Enemy tries to block - attack failed
000035F4  B47C 0042                776      CMP.W   #66,D2              Compare random with #66
000035F8  6F00 011E                777      BLE     hit_by_magic        Enemy casts magic - player takes damage      
000035FC  6E00 00E6                778      BGT     hit_against_melee   Enemy tried to lunge - enemy takes damage
00003600                           779      
00003600  4E75                     780      rts                         Return from subroutine
00003602                           781      
00003602                           782  cast_magic:
00003602  6100 0164                783      bsr     random_number       Get a random number 1-100
00003606                           784  
00003606  B47C 0021                785      CMP.W   #33,D2              Compare random with #33
0000360A  6F00 00A8                786      BLE     hit_against_block    Enemy blocks - enemy takes damage
0000360E  B47C 0042                787      CMP.W   #66,D2              Compare random with #66
00003612  6F00 007C                788      BLE     both_cast_magic     Enemy casts magic - attack fails     
00003616  6E00 011C                789      BGT     hit_by_melee        Enemy lunges forward - player takes damage
0000361A                           790      
0000361A  4E75                     791      rts                         Return from subroutine
0000361C                           792  
0000361C                           793  melee_attack:
0000361C  6100 014A                794      bsr     random_number       Get a random number 1-100
00003620                           795  
00003620  B47C 0021                796      CMP.W   #33,D2              Compare random with #33
00003624  6F00 00D6                797      BLE     hit_by_counter      Enemy blocks and counters - player takes damage
00003628  B47C 0042                798      CMP.W   #66,D2              Compare random with #66
0000362C  6F00 009E                799      BLE     hit_against_magic   Enemy casts magic - player takes damage     
00003630  6E00 0070                800      BGT     both_melee          Enemy lunges forward - attack fails
00003634                           801      
00003634  4E75                     802      rts                         Return from subroutine
00003636                           803  
00003636                           804  try_run:
00003636  6100 0130                805      bsr     random_number       Get a random number
0000363A                           806      
0000363A  B47C 0028                807      CMP.W   #40,D2              Compare the random number to 40
0000363E  6D00 0006                808      BLT     escape_attack       If the random number is less than 40 the player escapes
00003642  6C00 001E                809      BGE     fail_escape         If the random number is more than 40 the player gets damaged
00003646                           810      
00003646                           811  escape_attack:
00003646  3C78 5FF6                812      move.w  PLA_P_POS,A6    Move the player to their position before the battle
0000364A  11FC 0005 5FF3           813      move.b  #5,GAME_STATE   Switch game state
00003650                           814      
00003650  43F9 00004439            815      lea     escape_msg,A1   Load escape message
00003656  103C 000E                816      move.b  #14,D0          Move literal for trap command
0000365A  4E4F                     817      trap    #15             Trap 15 to display messgae
0000365C                           818      
0000365C  6100 00F2                819      bsr     press_continue  Pause until the player presses to continue
00003660                           820      
00003660  4E75                     821      rts                     Return from subroutine
00003662                           822      
00003662                           823  fail_escape:
00003662  43F9 00004454            824      lea     fail_escape_msg,A1  Load fail escape message
00003668  103C 000E                825      move.b  #14,D0              Move literal for trap command
0000366C  4E4F                     826      trap    #15                 Trap 15 to display message
0000366E                           827      
0000366E  524D                     828      add.w   #DAMAGE,A5           Move the enemy pointer to its damage value
00003670  1A15                     829      move.b  (A5),D5             Store the damage value in D5
00003672  534D                     830      sub.w   #DAMAGE,A5           Move the enemy pointer back to the enemy health/root
00003674  9B38 5FF0                831      sub.b   D5,PLAYER           Remove the enemy's damage from the player's health
00003678                           832      
00003678  6100 00D6                833      bsr     press_continue      Pause until the player presses to continue
0000367C  4E75                     834      rts
0000367E                           835      
0000367E                           836  both_block:
0000367E  103C 000E                837      move.b  #14,D0
00003682  43F9 0000448F            838      lea     both_block_msg,A1
00003688  4E4F                     839      trap    #15
0000368A                           840      
0000368A  6100 00C4                841      bsr     press_continue
0000368E  4E75                     842      rts
00003690                           843      
00003690                           844  both_cast_magic:
00003690  103C 000E                845      move.b  #14,D0
00003694  43F9 000044B4            846      lea     both_cast_magic_msg,A1
0000369A  4E4F                     847      trap    #15
0000369C                           848      
0000369C  6100 00B2                849      bsr     press_continue
000036A0  4E75                     850      rts
000036A2                           851  
000036A2                           852  both_melee:
000036A2  103C 000E                853      move.b  #14,D0
000036A6  43F9 00004509            854      lea     both_melee_msg,A1
000036AC  4E4F                     855      trap    #15  
000036AE                           856      
000036AE  6100 00A0                857      bsr     press_continue
000036B2  4E75                     858      rts
000036B4                           859  
000036B4                           860  hit_against_block:
000036B4  103C 000E                861      move.b  #14,D0
000036B8  43F9 00004552            862      lea     hit_against_block_msg,A1
000036BE  4E4F                     863      trap    #15  
000036C0                           864      
000036C0  1A38 5FF1                865      move.b  PLA_DAMAGE,D5       Store the player damage value in D5
000036C4  9B15                     866      sub.b   D5,(A5)           Remove the player's damage from the enemy's health
000036C6                           867      
000036C6  6100 0088                868      bsr     press_continue
000036CA  4E75                     869      rts
000036CC                           870  
000036CC                           871  hit_against_magic:
000036CC  103C 000E                872      move.b  #14,D0
000036D0  43F9 0000459A            873      lea     hit_against_magic_msg,A1
000036D6  4E4F                     874      trap    #15
000036D8                           875      
000036D8  1A38 5FF1                876      move.b  PLA_DAMAGE,D5       Store the player damage value in D5
000036DC  9B15                     877      sub.b   D5,(A5)           Remove the player's damage from the enemy's health
000036DE                           878      
000036DE  6100 0070                879      bsr     press_continue
000036E2  4E75                     880      rts
000036E4                           881  
000036E4                           882  hit_against_melee:
000036E4  103C 000E                883      move.b  #14,D0
000036E8  43F9 000045FE            884      lea     hit_against_melee_msg,A1
000036EE  4E4F                     885      trap    #15
000036F0                           886      
000036F0  1A38 5FF1                887      move.b  PLA_DAMAGE,D5       Store the player damage value in D5
000036F4  9B15                     888      sub.b   D5,(A5)           Remove the player's damage from the enemy's health
000036F6                           889      
000036F6  6100 0058                890      bsr     press_continue
000036FA  4E75                     891      rts
000036FC                           892  
000036FC                           893  hit_by_counter:
000036FC  103C 000E                894      move.b  #14,D0
00003700  43F9 00004654            895      lea     hit_by_counter_msg,A1
00003706  4E4F                     896      trap    #15  
00003708                           897      
00003708  524D                     898      add.w   #DAMAGE,A5           Move the enemy pointer to its damage value
0000370A  1A15                     899      move.b  (A5),D5             Store the damage value in D5
0000370C  534D                     900      sub.w   #DAMAGE,A5           Move the enemy pointer back to the enemy health/root
0000370E  9B38 5FF0                901      sub.b   D5,PLAYER           Remove the enemy's damage from the player's health
00003712                           902      
00003712  6100 003C                903      bsr     press_continue
00003716  4E75                     904      rts
00003718                           905  
00003718                           906  hit_by_magic:
00003718  103C 000E                907      move.b  #14,D0
0000371C  43F9 000046B7            908      lea     hit_by_magic_msg,A1
00003722  4E4F                     909      trap    #15  
00003724                           910      
00003724  524D                     911      add.w   #DAMAGE,A5           Move the enemy pointer to its damage value
00003726  1A15                     912      move.b  (A5),D5             Store the damage value in D5
00003728  534D                     913      sub.w   #DAMAGE,A5           Move the enemy pointer back to the enemy health/root
0000372A  9B38 5FF0                914      sub.b   D5,PLAYER           Remove the enemy's damage from the player's health
0000372E                           915      
0000372E  6100 0020                916      bsr     press_continue
00003732  4E75                     917      rts
00003734                           918  
00003734                           919  hit_by_melee:
00003734  103C 000E                920      move.b  #14,D0
00003738  43F9 00004727            921      lea     hit_by_melee_msg,A1
0000373E  4E4F                     922      trap    #15
00003740                           923      
00003740  524D                     924      add.w   #DAMAGE,A5           Move the enemy pointer to its damage value
00003742  1A15                     925      move.b  (A5),D5             Store the damage value in D5
00003744  534D                     926      sub.w   #DAMAGE,A5           Move the enemy pointer back to the enemy health/root
00003746  9B38 5FF0                927      sub.b   D5,PLAYER           Remove the enemy's damage from the player's health
0000374A                           928      
0000374A  6100 0004                929      bsr     press_continue
0000374E  4E75                     930      rts
00003750                           931  
00003750                           932  *-------------------------------------------------------
00003750                           933  *-------------------Misc Subroutines--------------------
00003750                           934  *-------------------------------------------------------
00003750                           935  press_continue:
00003750  6100 FCEC                936      bsr     endl
00003754                           937  
00003754  43F9 00004259            938      lea     continue_msg,A1 Load message into A1
0000375A  103C 000E                939      move.b  #14,D0          Move the trap command to display a message
0000375E  4E4F                     940      trap    #15             display the "press any ket to continue" text
00003760                           941      
00003760  103C 0004                942      move.b  #4,D0           Move the trap command to take input
00003764  4E4F                     943      trap    #15             take input to freeze the game
00003766  4E75                     944      rts                     Return from the 'press continue' subroutine
00003768                           945      
00003768                           946  random_number:              *Psuedo random number generator, courtesy of Pdraig
00003768  103C 0008                947      move.b  #8,D0
0000376C  4E4F                     948      trap    #15
0000376E  C2BC 005FFFFF            949      and.l   #$5FFFFF,d1     prevent overflow in divu
00003774  82FC 0064                950      divu    #100,D1         time count / 100
00003778  4841                     951      swap    D1              swap upper and lower words of D1 to put remainder in low word
0000377A  5241                     952      addq.w  #1,D1           d1.w contains number from 1 to 100
0000377C  3401                     953      move    D1,D2           d2 = d1
0000377E  4281                     954      clr.l   D1
00003780                           955      
00003780  4E75                     956      rts                     Returns from random generation subroutine
00003782                           957      
00003782                           958  return:   *Subroutine to branch to to break out of a subroutine when a condition is met
00003782  4E75                     959      rts
00003784                           960      
00003784                           961  *-------------------------------------------------------
00003784                           962  *----------------------Draw loop------------------------
00003784                           963  *-------------------------------------------------------
00003784                           964  draw_loop:
00003784  45F8 5000                965      lea     $5000,A2        Load starting memory location into A7
00003788  1C3C 0000                966      move.b  #0,D6           Data register used for rows
0000378C  1E3C 0000                967      move.b  #0,D7           Data register used for columns
00003790  7200                     968      move.l  #0,D1           Clear the D1 data register
00003792                           969      
00003792  6100 0004                970      bsr     loop_rows       Loop for every row
00003796  4E75                     971      rts
00003798                           972      
00003798                           973  loop_rows:
00003798  BC7C 0016                974      CMP     #22,D6          Check the rows don't go out of bounds
0000379C  6EE4                     975      BGT     return        If the rows are greater than 22 end the loop
0000379E                           976      
0000379E  1E3C 0000                977      move.b  #0,D7           Reset to column 0
000037A2  6100 000A                978      bsr     loop_columns    Loop for every column
000037A6                           979      
000037A6  5206                     980      add.b   #1,D6           Add to the rows
000037A8                           981      
000037A8  6100 FC94                982      bsr     endl            Break to the next line
000037AC  60EA                     983      bra     loop_rows       Loop through the rows again
000037AE                           984      
000037AE                           985  loop_columns:
000037AE  BE3C 000F                986      CMP.B   #15,D7              Check the rows don't go out of bounds
000037B2  6ECE                     987      BGT     return            If the rows are greater than 22 end the loop
000037B4                           988      
000037B4  6100 0014                989      bsr     draw_tile           Draw the current tile
000037B8  6100 00BA                990      bsr     check_for_player    Draw the player in the current tile if they're there
000037BC  6100 010C                991      bsr     check_for_enemies   Draw an enemy in the current tile if they is one there
000037C0  6100 018A                992      bsr     check_for_win_point Draw the win point in the current tile if it's there
000037C4                           993      
000037C4  5207                     994      add.b   #1,D7               Add to the column count
000037C6  524A                     995      add     #1,A2               Move to the next memory location
000037C8  60E4                     996      bra     loop_columns        Loop the columns again
000037CA                           997      
000037CA                           998  *-------------------------------------------------------
000037CA                           999  *----------------------Draw tile------------------------
000037CA                          1000  *-------------------------------------------------------
000037CA                          1001  *Draws the tile at the address in the address register A2
000037CA                          1002  draw_tile:
000037CA  0C12 00FF               1003      CMP.B   #255,(A2)           Check if the value is undifined
000037CE  6700 005E               1004      BEQ     draw_blocked_tile   Draw the blank tile
000037D2                          1005      
000037D2  0C12 0001               1006      CMP.B   #1,(A2)
000037D6  6700 0064               1007      BEQ     draw_both_tile
000037DA  0C12 0003               1008      CMP.B   #3,(A2)
000037DE  6700 006A               1009      BEQ     draw_left_tile
000037E2  0C12 0004               1010      CMP.B   #4,(A2)
000037E6  6700 0062               1011      BEQ     draw_left_tile
000037EA  0C12 0005               1012      CMP.B   #5,(A2)
000037EE  6700 0068               1013      BEQ     draw_right_tile
000037F2  0C12 0006               1014      CMP.B   #6,(A2)
000037F6  6700 0060               1015      BEQ     draw_right_tile
000037FA  0C12 0008               1016      CMP.B   #8,(A2)
000037FE  6700 004A               1017      BEQ     draw_left_tile
00003802  0C12 000A               1018      CMP.B   #10,(A2)
00003806  6700 0050               1019      BEQ     draw_right_tile
0000380A  0C12 000B               1020      CMP.B   #11,(A2)
0000380E  6700 003A               1021      BEQ     draw_left_tile
00003812  0C12 000C               1022      CMP.B   #12,(A2)
00003816  6700 0024               1023      BEQ     draw_both_tile
0000381A  0C12 000D               1024      CMP.B   #13,(A2)
0000381E  6700 0038               1025      BEQ     draw_right_tile
00003822  0C12 000E               1026      CMP.B   #14,(A2)
00003826  6700 0014               1027      BEQ     draw_both_tile
0000382A                          1028      
0000382A  6000 003A               1029      BRA     draw_blank_tile     Draw the blank tile
0000382E                          1030      
0000382E                          1031  draw_blocked_tile:
0000382E  43F9 00004287           1032      lea     blocked_tile,A1
00003834  103C 000E               1033      move.b  #14,D0
00003838  4E4F                    1034      trap    #15
0000383A  4E75                    1035      rts
0000383C                          1036      
0000383C                          1037  draw_both_tile:
0000383C  43F9 0000427B           1038      lea     both_tile,A1
00003842  103C 000E               1039      move.b  #14,D0
00003846  4E4F                    1040      trap    #15
00003848  4E75                    1041      rts
0000384A                          1042      
0000384A                          1043  draw_left_tile:
0000384A  43F9 0000427F           1044      lea     left_tile,A1
00003850  103C 000E               1045      move.b  #14,D0
00003854  4E4F                    1046      trap    #15
00003856  4E75                    1047      rts
00003858                          1048      
00003858                          1049  draw_right_tile:
00003858  43F9 00004283           1050      lea     right_tile,A1
0000385E  103C 000E               1051      move.b  #14,D0
00003862  4E4F                    1052      trap    #15
00003864  4E75                    1053      rts
00003866                          1054      
00003866                          1055  draw_blank_tile:
00003866  43F9 00004277           1056      lea     blank_tile,A1
0000386C  103C 000E               1057      move.b  #14,D0
00003870  4E4F                    1058      trap    #15
00003872  4E75                    1059      rts
00003874                          1060      
00003874                          1061  check_for_player:
00003874  B4CE                    1062      CMP.W   A6,A2
00003876  6700 0004               1063      BEQ     draw_player
0000387A  4E75                    1064      rts
0000387C                          1065      
0000387C                          1066  draw_player:
0000387C  323C 00FF               1067      move.w  #255,D1         Move the word #255 to D1 to set the type of trap 11
00003880  103C 000B               1068      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
00003884  4E4F                    1069      trap    #15             Trap to get the cursor position in D1
00003886                          1070      
00003886  0441 0200               1071      sub.w   #512,D1         Move the cursor back by two columns
0000388A  4E4F                    1072      trap    #15             Set the cursor position with trap command 11
0000388C                          1073      
0000388C  2601                    1074      move.l  D1,D3          Move the value in D1 to D3 for storage
0000388E                          1075      
0000388E  103C 0015               1076      move.b  #21,D0          Move #21 to D0 for trap command 21
00003892  223C 0000FF00           1077      move.l  #GREEN,D1       Move the colour green to D1
00003898  243C 01090000           1078      move.l  #FONT,D2        Move the font to D2
0000389E  4E4F                    1079      trap    #15             Set the colour
000038A0                          1080      
000038A0  43F9 0000428B           1081      lea     player_mark,A1  load the player symbol
000038A6  103C 000E               1082      move.b  #14,D0          Move #14 to D0 for trap command 14
000038AA  4E4F                    1083      trap    #15             Draw the player mark
000038AC                          1084      
000038AC  103C 0015               1085      move.b  #21,D0          Move #21 to D0 for trap command 21
000038B0  223C 00FFFFFF           1086      move.l  #WHITE,D1       Move the colour white to D1
000038B6  4E4F                    1087      trap    #15             Set the colour
000038B8  4281                    1088      clr.l   D1              Clear D1 for later use
000038BA  4282                    1089      clr.l   D2              Clear D2 for later use
000038BC                          1090      
000038BC  2203                    1091      move.l  D3,D1           Move the value in D3 to D1 for previous cursor position
000038BE                          1092      
000038BE  0641 0200               1093      add.w   #512,D1         Move the cursor position two columns forward
000038C2  103C 000B               1094      move.b  #11,D0          Move byte #11 for trap command 11 
000038C6  4E4F                    1095      trap    #15             Set the cursor position
000038C8                          1096      
000038C8  4E75                    1097      rts
000038CA                          1098      
000038CA                          1099  check_for_enemies:
000038CA  4BF8 6000               1100      lea     FIRST_ENEMY,A5  Load the memory address of the first enemy
000038CE  1A3C 0000               1101      move.b  #0,D5           Move the starting enemy number to D5
000038D2  6100 0004               1102      bsr     loop_enemies    Loop through all enemies
000038D6  4E75                    1103      rts                     Return from subroutine
000038D8                          1104      
000038D8                          1105  loop_enemies:
000038D8  6100 0012               1106      bsr     check_for_enemy Check for an enemy
000038DC                          1107      
000038DC  BA3C 0002               1108      CMP.B   #ENEMY_MAX,D5   Compare the enemy number with the maximum enemy number
000038E0  6C00 FEA0               1109      BGE     return          Return from the loop if the current enemy number is greater than or equal to the max
000038E4                          1110      
000038E4  5205                    1111      add.b   #1,D5           Add to the current enemy number
000038E6  DAFC 000C               1112      add.w   #12,A5          Add to the current enemy pointer to move to the next enemy (16 for next enemy - 4 to get back from position)
000038EA  60EC                    1113      bra     loop_enemies    Keep looping the enemies
000038EC                          1114      
000038EC                          1115  check_for_enemy:
000038EC  564D                    1116      add.w   #ALIVE,A5       Add to the enemy memory address to get the enemy's alive state
000038EE  0C1D 0000               1117      CMP.B   #0,(A5)+        Check if the enemy is alive
000038F2  6700 FE8E               1118      BEQ     return          Return from the subroutine if not
000038F6                          1119      
000038F6                          1120      
000038F6  B4D5                    1121      CMP.W   (A5),A2         Check if the enemy is in the current position
000038F8  6700 0004               1122      BEQ     draw_enemy      Draw the enemy if it is
000038FC  4E75                    1123      rts                     Return if the enemy is not in the current position
000038FE                          1124      
000038FE                          1125  draw_enemy:
000038FE  323C 00FF               1126      move.w  #255,D1         Move the word #255 to D1 to set the type of trap 11
00003902  103C 000B               1127      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
00003906  4E4F                    1128      trap    #15             Trap to get the cursor position in D1
00003908                          1129      
00003908  0441 0200               1130      sub.w   #512,D1         Move the cursor back by two columns
0000390C  4E4F                    1131      trap    #15             Set the cursor position with trap command 11
0000390E                          1132      
0000390E  2601                    1133      move.l  D1,D3          Move the value in D1 to D3 for storage
00003910                          1134      
00003910  103C 0015               1135      move.b  #21,D0          Move #21 to D0 for trap command 21
00003914  223C 000000FF           1136      move.l  #RED,D1         Move the colour red to D1
0000391A  243C 01090000           1137      move.l  #FONT,D2        Move the font to D2
00003920  4E4F                    1138      trap    #15             Set the colour
00003922                          1139      
00003922  43F9 0000428D           1140      lea     enemy_mark,A1   load the enemy symbol
00003928  103C 000E               1141      move.b  #14,D0          Move #14 to D0 for trap command 14
0000392C  4E4F                    1142      trap    #15             Draw the player mark
0000392E                          1143      
0000392E  103C 0015               1144      move.b  #21,D0          Move #21 to D0 for trap command 21
00003932  223C 00FFFFFF           1145      move.l  #WHITE,D1       Move the colour white to D1
00003938  4E4F                    1146      trap    #15             Set the colour
0000393A  4281                    1147      clr.l   D1              Clear D1 for later use
0000393C  4282                    1148      clr.l   D2              Clear D2 for later use
0000393E                          1149      
0000393E  2203                    1150      move.l  D3,D1           Move the value in D3 to D1 for previous cursor position
00003940                          1151      
00003940  0641 0200               1152      add.w   #512,D1         Move the cursor position two columns forward
00003944  103C 000B               1153      move.b  #11,D0          Move byte #11 for trap command 11 
00003948  4E4F                    1154      trap    #15             Set the cursor position
0000394A                          1155      
0000394A  4E75                    1156      rts
0000394C                          1157      
0000394C                          1158  check_for_win_point:
0000394C  B4FC 5156               1159      CMP.W   #WIN_POINT,A2
00003950  6700 0004               1160      BEQ     draw_win_point
00003954  4E75                    1161      rts
00003956                          1162      
00003956                          1163  draw_win_point:
00003956  323C 00FF               1164      move.w  #255,D1         Move the word #255 to D1 to set the type of trap 11
0000395A  103C 000B               1165      move.b  #11,D0          Move the byte #11 to D0 for trap command 11
0000395E  4E4F                    1166      trap    #15             Trap to get the cursor position in D1
00003960                          1167      
00003960  0441 0200               1168      sub.w   #512,D1         Move the cursor back by two columns
00003964  4E4F                    1169      trap    #15             Set the cursor position with trap command 11
00003966                          1170      
00003966  2601                    1171      move.l  D1,D3           Move the value in D1 to D3 for storage
00003968                          1172      
00003968  103C 0015               1173      move.b  #21,D0          Move #21 to D0 for trap command 21
0000396C  223C 00FF0000           1174      move.l  #BLUE,D1        Move the colour blue to D1
00003972  243C 01090000           1175      move.l  #FONT,D2        Move the font to D2
00003978  4E4F                    1176      trap    #15             Set the colour
0000397A                          1177      
0000397A  43F9 0000428F           1178      lea     win_point_mark,A1   load the win point symbol
00003980  103C 000E               1179      move.b  #14,D0              Move #14 to D0 for trap command 14
00003984  4E4F                    1180      trap    #15                 Draw the win point mark
00003986                          1181      
00003986  103C 0015               1182      move.b  #21,D0          Move #21 to D0 for trap command 21
0000398A  223C 00FFFFFF           1183      move.l  #WHITE,D1       Move the colour white to D1
00003990  4E4F                    1184      trap    #15             Set the colour
00003992  4281                    1185      clr.l   D1              Clear D1 for later use
00003994  4282                    1186      clr.l   D2              Clear D2 for later use
00003996                          1187      
00003996  2203                    1188      move.l  D3,D1           Move the value in D3 to D1 for previous cursor position
00003998                          1189      
00003998  0641 0200               1190      add.w   #512,D1         Move the cursor position two columns forward
0000399C  103C 000B               1191      move.b  #11,D0          Move byte #11 for trap command 11 
000039A0  4E4F                    1192      trap    #15             Set the cursor position
000039A2                          1193      
000039A2  4E75                    1194      rts
000039A4                          1195      
000039A4                          1196  *-------------------------------------------------------
000039A4                          1197  *-------------------Setup the world---------------------
000039A4                          1198  *-------------------------------------------------------
000039A4                          1199  setup_world:
000039A4  11FC 000E 514A          1200      move.b  #14,$514A   Setup the starting corridor
000039AA  11FC 0007 513A          1201      move.b  #7,$513A    T junction upwards from starting corridor
000039B0  11FC 0004 5139          1202      move.b  #4,$5139    Left corridor
000039B6  11FC 0001 5129          1203      move.b  #1,$5129
000039BC  11FC 0001 5119          1204      move.b  #1,$5119
000039C2                          1205      
000039C2  11FC 0004 5108          1206      move.b  #4,$5108    First shop
000039C8  11FC 0000 5109          1207      move.b  #0,$5109    Entrance
000039CE  11FC 0005 510A          1208      move.b  #5,$510A
000039D4  11FC 0008 50F8          1209      move.b  #8,$50F8
000039DA  11FC 0000 50F9          1210      move.b  #0,$50F9
000039E0  11FC 000A 50FA          1211      move.b  #10,$50FA
000039E6  11FC 0003 50E8          1212      move.b  #3,$50E8
000039EC  11FC 0007 50E9          1213      move.b  #7,$50E9
000039F2  11FC 0006 50EA          1214      move.b  #6,$50EA
000039F8                          1215      
000039F8  11FC 0005 513B          1216      move.b  #5,$513B    Right corridor
000039FE  11FC 0001 512B          1217      move.b  #1,$512B
00003A04  11FC 0001 511B          1218      move.b  #1,$511B
00003A0A  11FC 0008 510B          1219      move.b  #8,$510B    Path continues up with a turn off to the right
00003A10                          1220      
00003A10  11FC 0002 510C          1221      move.b  #2,$510C    Right path
00003A16  11FC 0002 510D          1222      move.b  #2,$510D    Continue right
00003A1C  11FC 0005 510E          1223      move.b  #5,$510E    Path upwards and to the left
00003A22  11FC 0001 50FE          1224      move.b  #1,$50FE    Leads upwards into a room
00003A28                          1225      
00003A28  11FC 0004 50ED          1226      move.b  #4,$50ED    First monster room
00003A2E  11FC 0000 50EE          1227      move.b  #0,$50EE    Entrance
00003A34  11FC 0005 50EF          1228      move.b  #5,$50EF
00003A3A  11FC 0008 50DD          1229      move.b  #8,$50DD
00003A40  11FC 0000 50DE          1230      move.b  #0,$50DE
00003A46  11FC 000A 50DF          1231      move.b  #10,$50DF
00003A4C  11FC 0003 50CD          1232      move.b  #3,$50CD
00003A52  11FC 0007 50CE          1233      move.b  #7,$50CE
00003A58  11FC 0006 50CF          1234      move.b  #6,$50CF
00003A5E                          1235      
00003A5E  11FC 0001 50FB          1236      move.b  #1,$50FB    Path that continues up
00003A64  11FC 0001 50EB          1237      move.b  #1,$50EB    Path continues upwards
00003A6A  11FC 0001 50DB          1238      move.b  #1,$50DB
00003A70                          1239      
00003A70                          1240      *Bottom row of room
00003A70  11FC 0004 50C8          1241      move.b  #4,$50C8    Large monster room with locked door
00003A76  11FC 0009 50C9          1242      move.b  #9,$50C9
00003A7C  11FC 0009 50CA          1243      move.b  #9,$50CA
00003A82  11FC 0000 50CB          1244      move.b  #0,$50CB    Entrance
00003A88  11FC 0005 50CC          1245      move.b  #5,$50CC
00003A8E                          1246      *Middle row of room
00003A8E  11FC 0000 50B8          1247      move.b  #0,$50B8    Exit to the left
00003A94  11FC 0000 50B9          1248      move.b  #0,$50B9
00003A9A  11FC 0000 50BA          1249      move.b  #0,$50BA
00003AA0  11FC 0000 50BB          1250      move.b  #0,$50BB
00003AA6  11FC 000A 50BC          1251      move.b  #10,$50BC
00003AAC                          1252      *Top row of room
00003AAC  11FC 0003 50A8          1253      move.b  #3,$50A8
00003AB2  11FC 0007 50A9          1254      move.b  #7,$50A9
00003AB8  11FC 0007 50AA          1255      move.b  #7,$50AA
00003ABE  11FC 0007 50AB          1256      move.b  #7,$50AB    Locked door
00003AC4  11FC 0006 50AC          1257      move.b  #6,$50AC
00003ACA                          1258      
00003ACA  11FC 0002 50B7          1259      move.b  #2,$50B7    Exit large room leftwards
00003AD0  11FC 0002 50B6          1260      move.b  #2,$50B6    Continue to the left
00003AD6  11FC 0007 50B5          1261      move.b  #7,$50B5    Continue to the left and a path downwards
00003ADC  11FC 0002 50B4          1262      move.b  #2,$50B4    Continue to the left
00003AE2                          1263      
00003AE2  11FC 0003 50A1          1264      move.b  #3,$50A1    Room to the left
00003AE8  11FC 0007 50A2          1265      move.b  #7,$50A2
00003AEE  11FC 0006 50A3          1266      move.b  #6,$50A3
00003AF4  11FC 0008 50B1          1267      move.b  #8,$50B1
00003AFA  11FC 0000 50B2          1268      move.b  #0,$50B2
00003B00  11FC 0000 50B3          1269      move.b  #0,$50B3    Entrance to the right
00003B06  11FC 0004 50C1          1270      move.b  #4,$50C1
00003B0C  11FC 0009 50C2          1271      move.b  #9,$50C2
00003B12  11FC 0005 50C3          1272      move.b  #5,$50C3
00003B18                          1273      
00003B18  11FC 0001 50C5          1274      move.b  #1,$50C5    Path leading downwards
00003B1E  11FC 0001 50D5          1275      move.b  #1,$50D5
00003B24  11FC 000A 50E5          1276      move.b  #10,$50E5   Path leading downward and to the left
00003B2A  11FC 0002 50E4          1277      move.b  #2,$50E4    Path on the left
00003B30  11FC 0002 50E3          1278      move.b  #2,$50E3
00003B36  11FC 0003 50E2          1279      move.b  #3,$50E2    Path takes a turn downwards
00003B3C  11FC 0001 50F2          1280      move.b  #1,$50F2    Path continues downwards
00003B42                          1281      
00003B42  11FC 0003 5101          1282      move.b  #3,$5101    Regular enemy room
00003B48  11FC 0000 5102          1283      move.b  #0,$5102    Entrance
00003B4E  11FC 0006 5103          1284      move.b  #6,$5103
00003B54  11FC 0008 5111          1285      move.b  #8,$5111
00003B5A  11FC 0000 5112          1286      move.b  #0,$5112
00003B60  11FC 000A 5113          1287      move.b  #10,$5113
00003B66  11FC 0004 5121          1288      move.b  #4,$5121
00003B6C  11FC 0009 5122          1289      move.b  #9,$5122
00003B72  11FC 000A 5123          1290      move.b  #10,$5123   Exit at the bottom
00003B78                          1291      
00003B78  11FC 0001 50F5          1292      move.b  #1,$50F5    Path leading downward
00003B7E  11FC 0001 5105          1293      move.b  #1,$5105
00003B84  11FC 0001 5115          1294      move.b  #1,$5115
00003B8A  11FC 0001 5125          1295      move.b  #1,$5125
00003B90                          1296      
00003B90                          1297      *Top row of room
00003B90  11FC 0008 5133          1298      move.b  #8,$5133    Large enemy room - Exit at top
00003B96  11FC 0007 5134          1299      move.b  #7,$5134
00003B9C  11FC 0000 5135          1300      move.b  #0,$5135    Entrance
00003BA2  11FC 0006 5136          1301      move.b  #6,$5136
00003BA8                          1302      
00003BA8                          1303      *Middle row of room
00003BA8  11FC 0008 5143          1304      move.b  #8,$5143
00003BAE  11FC 0000 5144          1305      move.b  #0,$5144
00003BB4  11FC 0000 5145          1306      move.b  #0,$5145
00003BBA  11FC 000A 5146          1307      move.b  #10,$5146
00003BC0                          1308      
00003BC0                          1309      *Bottom row of room
00003BC0  11FC 0004 5153          1310      move.b  #4,$5153
00003BC6  11FC 0009 5154          1311      move.b  #9,$5154
00003BCC  11FC 0009 5155          1312      move.b  #9,$5155
00003BD2  11FC 0005 5156          1313      move.b  #5,$5156
00003BD8                          1314      
00003BD8  4E75                    1315      rts
00003BDA                          1316  
00003BDA                          1317  setup_enemies:
00003BDA                          1318      * Setup first enemy
00003BDA  11FC 0003 6000          1319      move.b  #3,$6000    Health - Setup the first enemy
00003BE0  11FC 0001 6001          1320      move.b  #1,$6001    Damage/level
00003BE6  11FC 0001 6002          1321      move.b  #1,$6002    Class type (Knight)
00003BEC  11FC 0001 6003          1322      move.b  #1,$6003    Alive state (Alive)
00003BF2  31FC 511B 6004          1323      move.w  #$511B,$6004  Move enemy coordinates
00003BF8                          1324      
00003BF8                          1325      * Setup second enemy
00003BF8  11FC 0003 6010          1326      move.b  #3,$6010    Health - Setup the first enemy
00003BFE  11FC 0002 6011          1327      move.b  #2,$6011    Damage/level
00003C04  11FC 0001 6012          1328      move.b  #1,$6012    Class type (Knight)
00003C0A  11FC 0001 6013          1329      move.b  #1,$6013    Alive state (Alive)
00003C10  31FC 5155 6014          1330      move.w  #$5155,$6014  Move enemy coordinates
00003C16                          1331      
00003C16  4E75                    1332      rts
00003C18                          1333      
00003C18                          1334  setup_player:
00003C18  11FC 000A 5FF0          1335      move.b  #10,PLAYER      put score/health in memory location $5FF0
00003C1E                          1336      *lea     $5FF0,A3   assign address A3 to that memory location
00003C1E                          1337      
00003C1E  11FC 0001 5FF1          1338      move.b  #1,PLA_DAMAGE   Assign the default damage for the player
00003C24                          1339      
00003C24  11FC 0000 5FF3          1340      move.b  #0,GAME_STATE   Put game state number in memory location $5FF3
00003C2A                          1341      *0 = Pick role/intro | 5 = Move around | 6 = Combat | 10 to 20 = Shop | 64 = End game
00003C2A                          1342  
00003C2A  11FC 0000 5FF2          1343      move.b  #0,PLA_CLASS    put class number in memory location $5FF2
00003C30                          1344      * 1 corresponds to knight - 2 corresponds to mage - 3 corresponds to rogue
00003C30                          1345      
00003C30  11FC 000F 5FF8          1346      move.b  #15,PLA_GOLD
00003C36  11FC 0001 5FF9          1347      move.b  #1,PLA_POTIONS
00003C3C  11FC 0000 5FFA          1348      move.b  #0,PLA_KEYS
00003C42  11FC 000F 5FFB          1349      move.b  #15,PLA_TORCH
00003C48                          1350      
00003C48  4DF8 514A               1351      lea     $514A,A6        Set the player coordinate to the first corridor
00003C4C  31CE 5FF6               1352      move.w  A6,PLA_P_POS    Set the player's previous position to their current
00003C50                          1353      
00003C50  4E75                    1354      rts
00003C52                          1355      
00003C52                          1356  *-------------------------------------------------------
00003C52                          1357  *-------------------Data Delarations--------------------
00003C52                          1358  *-------------------------------------------------------
00003C52                          1359  
00003C52= 0D 0A 00                1360  crlf:           dc.b    $0D,$0A,0
00003C55= 2A 2A 2A 2A 2A 2A ...   1361  welcome_msg:    dc.b    '************************************************************'
00003C91= 0D 0A                   1362                  dc.b    $0D,$0A
00003C93= 41 76 61 6C 6F 6E ...   1363                  dc.b    'Avalon: The Legend Lives'
00003CAB= 0D 0A                   1364                  dc.b    $0D,$0A
00003CAD= 2A 2A 2A 2A 2A 2A ...   1365                  dc.b    '************************************************************'
00003CE9= 0D 0A 00                1366                  dc.b    $0D,$0A,0
00003CEC= 2E 00                   1367  loop_msg:       dc.b    '.',0
00003CEE= 31 3E 20 52 65 73 ...   1368  replay_msg:     dc.b    '1> Restart the game.',$0D,$0A
00003D04= 32 3E 20 51 75 69 ...   1369                  dc.b    '2> Quit the game.',$0D,$0A,0
00003D18= 59 6F 75 20 61 77 ...   1370  wake_up_msg:    dc.b    'You awake in a room, on a bed of red velvet, with no memory',$0D,$0A
00003D55= 6F 66 20 68 6F 77 ...   1371                  dc.b    'of how you got here. Stones crumble from the ceiling, the place looks like an',$0D,$0A
00003DA4= 6F 6C 64 20 63 61 ...   1372                  dc.b    'old castle. You get a dark feeling from this place, and you know you must',$0D,$0A
00003DEF= 65 73 63 61 70 65 ...   1373                  dc.b    'escape...',$0D,$0A
00003DFA= 59 6F 75 20 63 6C ...   1374                  dc.b    'You climb from the bed and look in a nearby mirror:',$0D,$0A,0
00003E30= 31 3E 20 59 6F 75 ...   1375  pick_role_msg:  dc.b    '1> You wear armour of polished iron, a short sword and heavy shield laying',$0D,$0A
00003E7C= 63 6C 6F 73 65 20 ...   1376                  dc.b    'close by. (Knight class)',$0D,$0A,$0D,$0A
00003E98= 32 3E 20 59 6F 75 ...   1377                  dc.b    '2> You wear a cloak with mystic symbols sewn into the fabrics, an ancient',$0D,$0A
00003EE3= 6C 6F 6F 6B 69 6E ...   1378                  dc.b    'looking staff lays near. (Mage class)',$0D,$0A,$0D,$0A
00003F0C= 33 3E 20 59 6F 75 ...   1379                  dc.b    '3> You wear tight, well-fitting leather armour with reminents of black dye',$0D,$0A
00003F58= 73 74 61 69 6E 65 ...   1380                  dc.b    'stained to the material. Two knives are fastened to your belt. (Rogue class)',$0D,$0A,0
00003FA7= 45 6E 74 65 72 20 ...   1381  input_nums_msg: dc.b    'Enter num between 1 and ',0
00003FC0= 3A 20 00                1382  colon_msg:      dc.b    ': ',0
00003FC3                          1383  
00003FC3= 49 6E 70 75 74 74 ...   1384  input_error_msg:    dc.b    'Inputted number is outside of range.',$0D,$0A,0
00003FEA= 47 61 6D 65 73 74 ...   1385  fake_gamestate_msg: dc.b    'Gamestate doesnt exist',$0D,$0A,0
00004003= 59 6F 75 20 67 72 ...   1386  knight_role_msg:    dc.b    'You grab your sword and shield, pull a torch from the wall, and leave the room.',$0D,$0A
00004054= 2D 20 59 6F 75 20 ...   1387                      dc.b    '- You have chosen the KNIGHT class. You specialise in blocking and countering',$0D,$0A,0
000040A4= 59 6F 75 20 70 69 ...   1388  mage_role_msg:  dc.b    'You pick up your staff, grab a torch from the wall, and leave the room.',$0D,$0A
000040ED= 2D 20 59 6F 75 20 ...   1389                  dc.b    '- You have chosen the MAGE class. You specialise in magic attacks.',$0D,$0A,0
00004132= 59 6F 75 20 66 61 ...   1390  rogue_role_msg: dc.b    'You fasten your belt, grab a torch from the wall, and leave the room.',$0D,$0A
00004179= 2D 20 59 6F 75 20 ...   1391                  dc.b    '- You have chosen the ROGUE class. You specialise in quick melee attacks.',$0D,$0A,0
000041C5= 31 3E 20 4D 6F 76 ...   1392  movement_msg:   dc.b    '1> Move north.',$0D,$0A
000041D5= 32 3E 20 4D 6F 76 ...   1393                  dc.b    '2> Move south.',$0D,$0A
000041E5= 33 3E 20 4D 6F 76 ...   1394                  dc.b    '3> Move west.',$0D,$0A
000041F4= 34 3E 20 4D 6F 76 ...   1395                  dc.b    '4> Move east.',$0D,$0A,0
00004204= 4D 6F 76 65 64 20 ...   1396  move_north_msg: dc.b    'Moved north.',$0D,$0A,0
00004213= 4D 6F 76 65 64 20 ...   1397  move_east_msg:  dc.b    'Moved east.',$0D,$0A,0
00004221= 4D 6F 76 65 64 20 ...   1398  move_south_msg: dc.b    'Moved south.',$0D,$0A,0
00004230= 4D 6F 76 65 64 20 ...   1399  move_west_msg:  dc.b    'Moved west.',$0D,$0A,0
0000423E= 41 20 77 61 6C 6C ...   1400  movement_blocked_msg:  dc.b    'A wall blocks your path.',$0D,$0A,0
00004259= 45 6E 74 65 72 20 ...   1401  continue_msg:   dc.b    'Enter any key to continue... ',0
00004277                          1402  
00004277= 20 20 20 00             1403  blank_tile      dc.b    '   ',0
0000427B= 7C 20 7C 00             1404  both_tile       dc.b    '| |',0
0000427F= 7C 20 20 00             1405  left_tile       dc.b    '|  ',0
00004283= 20 20 7C 00             1406  right_tile      dc.b    '  |',0
00004287= 5C 2F 5C 00             1407  blocked_tile:   dc.b    '\/\',0
0000428B= 2A 00                   1408  player_mark:    dc.b    '*',0
0000428D= 58 00                   1409  enemy_mark:     dc.b    'X',0
0000428F= 40 00                   1410  win_point_mark: dc.b    '@',0
00004291= 41 20 6D 6F 6E 73 ...   1411  encounter_msg:  dc.b    'A monster blocks your path, it looks ready to attack!',$0D,$0A,0
000042C9= 31 3E 20 42 6C 6F ...   1412  combat_msg:     dc.b    '1> Block and Counter.',$0D,$0A
000042E0= 32 3E 20 43 61 73 ...   1413                  dc.b    '2> Cast Magic.',$0D,$0A
000042F0= 33 3E 20 41 74 74 ...   1414                  dc.b    '3> Attack Swiftly.',$0D,$0A
00004304= 34 3E 20 54 72 79 ...   1415                  dc.b    '4> Try Run.',$0D,$0A,0
00004312= 20 20 20 20 20 20 ...   1416  skeleton_msg:   dc.b    '           .-.     ',$0D,$0A
00004327= 20 2F 5C 5F 5F 5F ...   1417                  dc.b    ' /\____/\ (o.o)    ',$0D,$0A
0000433C= 7C 20 20 5F 7C 7C ...   1418                  dc.b    '|  _||_  | |=|     ',$0D,$0A
00004351= 20 5C 2F 20 7C 7C ...   1419                  dc.b    ' \/ || \/ __|__    ',$0D,$0A
00004366= 20 20 20 20 7C 7C ...   1420                  dc.b    '    ||\_//.=|=.\\  ',$0D,$0A
0000437B= 20 20 20 20 7C 7C ...   1421                  dc.b    '    ||\_/ .=|=. \\ ',$0D,$0A
00004390= 20 20 20 20 7C 7C ...   1422                  dc.b    '    ||    .=|=. // ',$0D,$0A
000043A5= 20 20 20 20 7C 7C ...   1423                  dc.b    '    ||    (_=_)//  ',$0D,$0A
000043BA= 20 20 20 20 7C 7C ...   1424                  dc.b    '    ||   (:| |:)   ',$0D,$0A
000043CF= 20 20 20 20 7C 7C ...   1425                  dc.b    '    ||    || ||    ',$0D,$0A
000043E4= 20 20 20 20 7C 7C ...   1426                  dc.b    '    ||    () ()    ',$0D,$0A
000043F9= 20 20 20 20 2F 5C ...   1427                  dc.b    '    /\    || ||    ',$0D,$0A
0000440E= 20 20 20 20 7C 7C ...   1428                  dc.b    '    ||    || ||    ',$0D,$0A
00004423= 20 20 20 20 5C 2F ...   1429                  dc.b    '    \/  ==   ==    ',$0D,$0A,0
00004439= 59 6F 75 20 65 73 ...   1430  escape_msg:             dc.b    'You escaped the monster!',$0D,$0A,0
00004454= 59 6F 75 20 74 72 ...   1431  fail_escape_msg:        dc.b    'You try to run, but the monster catches and damages you!',$0D,$0A,0
0000448F= 59 6F 75 20 62 6F ...   1432  both_block_msg:         dc.b    'You both block, No damage is done!',$0D,$0A,0
000044B4= 59 6F 75 20 62 6F ...   1433  both_cast_magic_msg:    dc.b    'You both cast magic at eachother, the spells clash in mid air! No damage',$0D,$0A
000044FE= 69 73 20 64 6F 6E ...   1434                          dc.b    'is done!',$0D,$0A,0
00004509= 59 6F 75 20 62 6F ...   1435  both_melee_msg:         dc.b    'You both lunge forward, metal clashes together, but no damage is done!',$0D,$0A,0
00004552= 54 68 65 20 65 6E ...   1436  hit_against_block_msg:  dc.b    'The enemy blocks, you cast a cast a spell and it damages the monster!',$0D,$0A,0
0000459A= 54 68 65 20 65 6E ...   1437  hit_against_magic_msg:  dc.b    'The enemy begins to charge a spell but you lunge forward and hit it first,',$0D,$0A
000045E6= 64 61 6D 61 67 69 ...   1438                          dc.b    'damaging the monster!',$0D,$0A,0
000045FE= 54 68 65 20 65 6E ...   1439  hit_against_melee_msg:  dc.b    'The enemy lunges forward but you block quicky, then counter, damaging the',$0D,$0A
00004649= 6D 6F 6E 73 74 65 ...   1440                          dc.b    'monster!',$0D,$0A,0
00004654= 59 6F 75 20 6C 75 ...   1441  hit_by_counter_msg:     dc.b    'You lunge at the enemy but they block before you hit, they swing around quickly',$0D,$0A
000046A5= 61 6E 64 20 64 61 ...   1442                          dc.b    'and damage you!',$0D,$0A,0
000046B7= 59 6F 75 20 74 72 ...   1443  hit_by_magic_msg:       dc.b    'You try to block the enemies attack, but they cast a spell that breaks through',$0D,$0A
00004707= 79 6F 75 72 20 64 ...   1444                          dc.b    'your defense and damages you!',$0D,$0A,0
00004727= 59 6F 75 20 74 72 ...   1445  hit_by_melee_msg:       dc.b    'You try to charge up a spell, but the enemy lunges forward and damages you!',$0D,$0A,0
00004775= 48 65 61 6C 74 68 ...   1446  health_msg:             dc.b    'Health: ',0
0000477E= 45 6E 65 6D 79 20 ...   1447  enemy_health_msg:       dc.b    'Enemy Health: ',0
0000478D= 54 6F 72 63 68 20 ...   1448  torch_msg:              dc.b    'Torch Life: ',0
0000479A= 49 6E 76 65 6E 74 ...   1449  inventory_msg:          dc.b    'Inventory:',0
000047A5= 2D 20 47 6F 6C 64 ...   1450  gold_msg:               dc.b    '- Gold ',0
000047AD= 2D 20 4B 65 79 20 00    1451  key_msg:                dc.b    '- Key ',0
000047B4= 2D 20 70 6F 74 69 ...   1452  potions_msg:            dc.b    '- potion ',0
000047BE= 54 68 65 20 6D 6F ...   1453  battle_won_msg:         dc.b    'The monster collapses at your feet. It is dead!',$0D,$0A,0
000047F0= 28 00                   1454  bracket_open_msg:       dc.b    '(',0
000047F2= 29 00                   1455  bracket_close_msg:      dc.b    ')',0
000047F4= 59 6F 75 20 66 65 ...   1456  death_msg:          dc.b    'You feel your last breath of air leave your lungs...',$0D,$0A
0000482A= 59 6F 75 72 20 6B ...   1457                      dc.b    'Your knees hit the ground...',$0D,$0A
00004848= 59 6F 75 20 68 61 ...   1458                      dc.b    'You have died.',$0D,$0A,0
00004859= 59 6F 75 20 66 65 ...   1459  win_msg             dc.b    'You feel the outside breeze hit your face...',$0D,$0A
00004887= 59 6F 75 20 68 61 ...   1460                      dc.b    'You have escaped the castle!',$0D,$0A,0
000048A6                          1461  
000048A6                          1462      end start

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ALIVE               3
BATTLE_WON_MSG      47BE
BLANK_TILE          4277
BLOCKED_TILE        4287
BLOCK_COUNTER       35E8
BLUE                FF0000
BOTH_BLOCK          367E
BOTH_BLOCK_MSG      448F
BOTH_CAST_MAGIC     3690
BOTH_CAST_MAGIC_MSG  44B4
BOTH_MELEE          36A2
BOTH_MELEE_MSG      4509
BOTH_TILE           427B
BRACKET_CLOSE_MSG   47F2
BRACKET_OPEN_MSG    47F0
CAST_MAGIC          3602
CHECK_FOR_ENEMIES   38CA
CHECK_FOR_ENEMY     38EC
CHECK_FOR_PLAYER    3874
CHECK_FOR_WIN_POINT  394C
CLASS               2
CLEAR_SCREEN        340E
COLON_MSG           3FC0
COMBAT              35B0
COMBAT_MSG          42C9
CONTINUE_MSG        4259
CRLF                3C52
CSR_POS_BATTLE      2001
CSR_POS_MOVE        3201
DAMAGE              1
DEATH_MSG           47F4
DECORATE            33F0
DRAW                323E
DRAW_BATTLE_INFO    3374
DRAW_BLANK_TILE     3866
DRAW_BLOCKED_TILE   382E
DRAW_BOTH_TILE      383C
DRAW_ENEMY          38FE
DRAW_HUD            3262
DRAW_ITEM_NUMBER    3352
DRAW_LEFT_TILE      384A
DRAW_LOOP           3784
DRAW_PLAYER         387C
DRAW_PLAYER_INFO    3278
DRAW_RIGHT_TILE     3858
DRAW_SKELETON       3254
DRAW_TILE           37CA
DRAW_WIN_POINT      3956
ENCOUNTER_MSG       4291
END                 3006
ENDL                343E
ENEMIES_CHECK       317C
ENEMIES_LOOP        318A
ENEMY_ALIVE_CHECK   3206
ENEMY_CHECK         31A8
ENEMY_DIED          3210
ENEMY_HEALTH_MSG    477E
ENEMY_MARK          428D
ENEMY_MAX           2
ENTER_COMBAT        31DC
ESCAPE_ATTACK       3646
ESCAPE_MSG          4439
EXIT                0
FAIL_ESCAPE         3662
FAIL_ESCAPE_MSG     4454
FAKE_GAMESTATE_MSG  3FEA
FIRST_ENEMY         6000
FONT                1090000
GAME                3000
GAMELOOP            30FA
GAMEPLAY            33CC
GAME_STATE          5FF3
GOLD_MSG            47A5
GREEN               FF00
HEALTH_MSG          4775
HIT_AGAINST_BLOCK   36B4
HIT_AGAINST_BLOCK_MSG  4552
HIT_AGAINST_MAGIC   36CC
HIT_AGAINST_MAGIC_MSG  459A
HIT_AGAINST_MELEE   36E4
HIT_AGAINST_MELEE_MSG  45FE
HIT_BY_COUNTER      36FC
HIT_BY_COUNTER_MSG  4654
HIT_BY_MAGIC        3718
HIT_BY_MAGIC_MSG    46B7
HIT_BY_MELEE        3734
HIT_BY_MELEE_MSG    4727
INPUT               309E
INPUT_ERROR_MSG     3FC3
INPUT_NUMS_MSG      3FA7
INVALID_INPUT       30EC
INVENTORY_MSG       479A
KEY_MSG             47AD
KNIGHT_ROLE_MSG     4003
KNIGHT_SELECT       3062
LEFT_TILE           427F
LOOP_COLUMNS        37AE
LOOP_ENEMIES        38D8
LOOP_MSG            3CEC
LOOP_ROWS           3798
MAGE_ROLE_MSG       40A4
MAGE_SELECT         3076
MANAGE_INPUT        30C8
MELEE_ATTACK        361C
MOVEMENT            3454
MOVEMENT_BLOCKED    359E
MOVEMENT_BLOCKED_MSG  423E
MOVEMENT_MSG        41C5
MOVE_EAST           355A
MOVE_EAST_MSG       4213
MOVE_NORTH          348A
MOVE_NORTH_MSG      4204
MOVE_SOUTH          34D0
MOVE_SOUTH_MSG      4221
MOVE_WEST           3516
MOVE_WEST_MSG       4230
OUT                 33F8
PICK_ROLE           301C
PICK_ROLE_MSG       3E30
PLAYER              5FF0
PLAYER_DEAD         3138
PLAYER_MARK         428B
PLA_CLASS           5FF2
PLA_DAMAGE          5FF1
PLA_GOLD            5FF8
PLA_KEYS            5FFA
PLA_POTIONS         5FF9
PLA_P_POS           5FF6
PLA_TORCH           5FFB
POSITION            4
POTIONS_MSG         47B4
PRESS_CONTINUE      3750
RANDOM_NUMBER       3768
RED                 FF
REPLAY              341A
REPLAY_MSG          3CEE
RETURN              3782
RIGHT_TILE          4283
ROGUE_ROLE_MSG      4132
ROGUE_SELECT        308A
ROLE_INPUT          3044
SETUP_ENEMIES       3BDA
SETUP_PLAYER        3C18
SETUP_WORLD         39A4
SKELETON_MSG        4312
START               1000
TORCH_MSG           478D
TRY_RUN             3636
UPDATE              3110
WAKE_UP_MSG         3D18
WALL_COLLISIONS     3468
WELCOME             300A
WELCOME_MSG         3C55
WHITE               FFFFFF
WIN_MSG             4859
WIN_POINT           5156
WIN_POINT_MARK      428F
WON_GAME            315A
